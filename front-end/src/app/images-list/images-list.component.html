<div class="images-container">
    <div class="gallery-header">
        <h2>Image Gallery</h2>
        <span class="image-count" *ngIf="images.length > 0">{{ images.length }} images</span>
    </div>

    <div *ngIf="loading" class="loading">
        <div class="spinner"></div>
        <p>Loading images...</p>
    </div>

    <div *ngIf="error" class="error-message">
        {{ error }}
    </div>

    <div *ngIf="!loading && images.length === 0 && !error" class="empty-state">
        <div class="empty-icon">ğŸ–¼ï¸</div>
        <p>No images yet. Resize an image to get started!</p>
    </div>

    <div class="gallery-grid" *ngIf="!loading && images.length > 0">
        <div class="gallery-item" *ngFor="let image of images" (click)="openImage(image)">
            <div class="image-wrapper">
                <img [src]="api_url + image.url" [alt]="image.filename" class="gallery-image" />
                <div class="image-overlay">
                    <button class="overlay-btn view-btn" title="View full size">
                        <span>ğŸ‘ï¸</span>
                    </button>
                    <button class="overlay-btn download-btn" (click)="downloadImage(image); $event.stopPropagation()"
                        title="Download">
                        <span>â¬‡ï¸</span>
                    </button>

                </div>
            </div>
            <div class="image-info">
                <p class="image-name" [title]="image.filename">{{ image.filename }}</p>
            </div>
        </div>
    </div>
</div>

<!-- Modal for full-size image -->
<div class="modal" *ngIf="showModal" (click)="closeModal()">
    <div class="modal-content" (click)="$event.stopPropagation()">
        <button class="modal-close" (click)="closeModal()" title="Close">âœ•</button>

        <div class="modal-image-wrapper">
            <img [src]="api_url + selectedImage.url" [alt]="selectedImage.filename" class="modal-image" />
        </div>

        <div class="modal-footer">
            <p class="modal-filename">{{ selectedImage.filename }}</p>
            <div class="modal-actions">
                <button class="modal-btn" (click)="downloadImage(selectedImage)" title="Download">
                    â¬‡ï¸ Download
                </button>

            </div>
        </div>
    </div>
</div>